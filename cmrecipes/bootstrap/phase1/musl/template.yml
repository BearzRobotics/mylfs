name: musl
version: 1.2.5
release: 1
url: https://musl.libc.org/releases/musl-1.2.5.tar.gz
homepage: https://musl.libc.org/

license: MIT
summary: Lightweight and fast C standard library
description: |
  musl is a lightweight, fast, and simple implementation of the standard C library, intended for static linking and use in minimal, secure, and efficient Linux-based systems.

phase: 1
order: 6

buildsteps: |

  ./configure --prefix=$LFS/usr --syslibdir=$LFS/lib  
  

  make 
  make install


  # install the musl docs
  mkdir -pv $LFS/usr/share/doc/
  tar -xf ../static/musl-docs.tar.gz -C $LFS/usr/share/doc/

  # /lib/ld-musl-x86_64.so.1 -> /mnt/data/code/py/mylfs-py/mnt/lfs/lib/libc.so
  # To simplify my sysroot and later the chroot I'm having the symlink point right
  # to the libc.so next to it.
  cd $LFS/lib
  ln -sf ./libc.so ld-musl-x86_64.so.1

